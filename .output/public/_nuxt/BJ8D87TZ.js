import{_ as p,q as i,A as w,r as n,B as c,l as v,c as m,o as f,a as s,k as h,v as y,j as b}from"./Cdk1S3_b.js";const k={class:"reset-password-container"},P={__name:"reset-password",setup(g){const d=i();w();const r=v,o=n(""),a=n("");c(()=>{const t=window.location.hash.substring(1),e=new URLSearchParams(t);e.get("type")==="recovery"&&e.get("access_token")?a.value=e.get("access_token"):r.error("Invalid or missing reset token.")});const l=async()=>{if(!o.value||!a.value){r.error("Please provide a new password.");return}try{await $fetch("https://genertia-quizmakerbackend.onrender.com/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:{password:o.value,token:a.value}}),r.success("Your password has been reset successfully."),d.push("/auth/login")}catch(t){r.error("Failed to reset password. Please try again."),console.error("Reset password error:",t)}};return(t,e)=>(f(),m("div",k,[e[3]||(e[3]=s("h1",null,"Reset Your Password",-1)),e[4]||(e[4]=s("p",null,"Please enter your new password below.",-1)),s("form",{onSubmit:b(l,["prevent"])},[e[1]||(e[1]=s("label",{for:"password"},"New Password",-1)),h(s("input",{type:"password",id:"password","onUpdate:modelValue":e[0]||(e[0]=u=>o.value=u),placeholder:"Enter new password",required:""},null,512),[[y,o.value]]),e[2]||(e[2]=s("button",{type:"submit"},"Reset Password",-1))],32)]))}},_=p(P,[["__scopeId","data-v-bf1c4f7c"]]);export{_ as default};
