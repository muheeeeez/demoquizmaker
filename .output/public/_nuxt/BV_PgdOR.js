import{_ as A,A as B,m as I,q as S,r,s as _,c as o,o as l,a as s,R as b,t as i,j as f,T as z,U as M,k as O,V,d as C,l as $}from"./Cdk1S3_b.js";import{_ as P}from"./DV5gKHDK.js";import{_ as R}from"./CsCFVWj5.js";const j="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20style='width:%2024px;%20height:%2024px;%20overflow:%20visible;%20fill:%20rgb(93,%2093,%2091);'%20viewBox='0%200%20640%20512'%3e%3cpath%20d='M537.6%20226.6c4.1-10.7%206.4-22.4%206.4-34.6%200-53-43-96-96-96-19.7%200-38.1%206-53.3%2016.2C367%2064.2%20315.3%2032%20256%2032c-88.4%200-160%2071.6-160%20160%200%202.7.1%205.4.2%208.1C40.2%20219.8%200%20273.2%200%20336c0%2079.5%2064.5%20144%20144%20144h368c70.7%200%20128-57.3%20128-128%200-61.9-44-113.6-102.4-125.4zM393.4%20288H328v112c0%208.8-7.2%2016-16%2016h-48c-8.8%200-16-7.2-16-16V288h-65.4c-14.3%200-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2%2016.4-6.2%2022.6%200l105.4%20105.4c10.1%2010.1%202.9%2027.3-11.3%2027.3z'%3e%3c/path%3e%3c/svg%3e",q={class:"top-container"},G={class:"navbar"},Y={class:"navbar-container"},E={class:"navbar-container"},H={class:"upload-card"},K={class:"file-card"},Q={key:0,class:"no-files-message"},W={key:1,class:"files-grid"},X=["onClick"],J={class:"check"},Z={class:"file-card-content"},ee={class:"file-name"},se={class:"file-type"},te={key:0,class:"bottom-dialog"},oe={key:0},le={__name:"notes-upload",setup(ne){B();const m=$,a=I(),D=S(),p=r(!1),d=r(null),u=r([]),h=r([]),n=r([]),v=_(()=>n.value.filter(t=>t).length),w=_(()=>a.user&&a.user.name?a.user.name:"Guest"),T=t=>{n.value[t]=!n.value[t]},x=()=>{d.value&&d.value.click()},F=t=>{const e=t.target.files;k(e)},y=()=>{},N=t=>{const e=t.dataTransfer.files;k(e)},k=t=>{u.value=[],h.value=[],n.value=[];for(let e=0;e<t.length;e++)u.value.push(t[e].name),h.value.push(t[e]),n.value.push(!1)},U=t=>{const e=t.split(".");return e.length>1?e[e.length-1].toUpperCase():"UNKNOWN"},L=async()=>{if(confirm("Are you sure you want to logout?")){p.value=!0;try{await $fetch("https://genertia-quizmakerbackend.onrender.com/logout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.accessToken}`}}),m.success("You have been logged out successfully."),a.logout(),D.push("/")}catch(t){m.error("An error occurred during logout."),console.error("Logout error:",t)}finally{p.value=!1}}};return(t,e)=>(l(),o("div",null,[s("div",q,[e[3]||(e[3]=s("div",null,[s("h1",null,"QuizMakerAI")],-1)),s("div",G,[s("div",Y,[e[1]||(e[1]=s("img",{src:P,alt:"User Icon"},null,-1)),s("p",null,i(w.value),1)]),s("div",E,[e[2]||(e[2]=s("img",{src:R,alt:"Logout Icon"},null,-1)),s("p",{onClick:L,class:"logout"},i(p.value?"Logging out...":"Logout"),1)])])]),s("div",H,[s("div",{class:"box",onDragover:f(y,["prevent"]),onDragenter:f(y,["prevent"]),onDrop:f(N,["prevent"])},[e[4]||(e[4]=s("img",{src:j,class:"image",alt:"Upload Note"},null,-1)),s("p",{onClick:x,class:"box-p"}," Drag & Drop your notes files here "),e[5]||(e[5]=s("p",{class:"paragraph"},"or click to browse from your device",-1)),e[6]||(e[6]=s("p",{class:"paragraph"},"PPT, PDF or TXT up to 10MB",-1)),s("input",{ref_key:"fileInput",ref:d,type:"file",multiple:"",style:{display:"none"},accept:".pdf, .txt, .pptx, .doc",onChange:F},null,544),e[7]||(e[7]=s("div",{class:"buttons"},[s("button",null,"Upload from Google Drive"),s("button",null,"Upload from OneDrive")],-1))],32)]),s("div",K,[e[11]||(e[11]=s("h1",null,"Uploaded Notes",-1)),u.value.length===0?(l(),o("p",Q,"There are currently no uploaded files")):(l(),o("div",W,[(l(!0),o(z,null,M(u.value,(c,g)=>(l(),o("div",{class:"file-card-item",key:g},[s("div",{class:"checkbox-container",onClick:ae=>T(g)},[O(s("div",J,"âœ“",512),[[V,n.value[g]]]),e[8]||(e[8]=s("input",{type:"checkbox",class:"input"},null,-1))],8,X),s("div",Z,[s("h2",ee,i(c),1),e[9]||(e[9]=s("p",{class:"file-lines"},"Lines: 50",-1)),s("p",se,"Type: "+i(U(c)),1)]),e[10]||(e[10]=s("button",{class:"delete-btn",type:"button"},"Delete",-1))]))),128))]))]),v.value>0?(l(),o("div",te,[s("p",null,[C(" You selected "+i(v.value)+" file",1),v.value>1?(l(),o("span",oe,"s")):b("",!0),e[12]||(e[12]=C(". "))]),s("button",{onClick:e[0]||(e[0]=(...c)=>t.saveConfiguration&&t.saveConfiguration(...c))},"Save")])):b("",!0)]))}},ce=A(le,[["__scopeId","data-v-dc1ad1f3"]]);export{ce as default};
