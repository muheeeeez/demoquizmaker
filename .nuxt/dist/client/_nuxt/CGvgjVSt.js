import{_ as A}from"./BgR8CxM9.js";import{_ as k,r as a,g as L,m as R,c as b,o as g,a as e,j as V,k as i,v as u,b as h,w as q,d as w,l as c,p as U,n as N,q as T,s as j,x as M,y as C,z}from"./Cdk1S3_b.js";import{u as S}from"./B31US69q.js";const B={class:"page"},I={class:"form-container"},E={class:"links-container"},D={__name:"ProfessorLogin",setup(P){const l=a(""),d=a(""),p=L(),f=R(),r=async()=>{var s;const m={email:l.value,password:d.value};try{const n=await $fetch("https://genertia-quizmakerbackend.onrender.com/auth/login/password",{method:"POST",body:m,headers:{"Content-Type":"application/json"}});if(!((s=n.user)!=null&&s.role)||n.user.role.toLowerCase()!=="professor"){c.warning("This account isn't registered for professor login."),p.push("/");return}f.setAuth({access_token:n.access_token,refresh_token:n.refresh_token,user:n.user}),c.success("Authentication successful"),p.push("/professor/professor-dashboard")}catch(n){c.error("An error occurred during login"),console.error(n)}};return(m,s)=>{const n=A;return g(),b("div",B,[e("div",null,[e("div",null,[s[7]||(s[7]=e("h1",null,"Professor Login",-1)),s[8]||(s[8]=e("p",null,"Access your dashboard to manage your courses and assessments",-1)),e("div",I,[e("form",{onSubmit:V(r,["prevent"])},[s[4]||(s[4]=e("label",{for:"email"},"Email Address",-1)),i(e("input",{type:"email",id:"email",placeholder:"Enter email address","onUpdate:modelValue":s[0]||(s[0]=v=>l.value=v),required:""},null,512),[[u,l.value]]),s[5]||(s[5]=e("label",{for:"password"},"Password",-1)),i(e("input",{type:"password",id:"password",placeholder:"Enter your password","onUpdate:modelValue":s[1]||(s[1]=v=>d.value=v),required:""},null,512),[[u,d.value]]),s[6]||(s[6]=e("input",{type:"submit",value:"Login"},null,-1)),e("div",E,[h(n,{to:"/authentication/forgot-password",class:"login-link"},{default:q(()=>s[2]||(s[2]=[w(" Forgot Password ")])),_:1}),h(n,{to:"/authentication/request-magic-link",class:"login-link"},{default:q(()=>s[3]||(s[3]=[w(" Use Magic Link ")])),_:1})])],32)])])])])}}},F=k(D,[["__scopeId","data-v-40d4ff2b"]]),O=U("/images/prof-reg.png"),H={class:"page"},Q={class:"form-container"},Y={class:"name-group"},G=N({__name:"ProfessorRegister",setup(P){const l=T(),d=a(""),p=a(""),f=a(""),r=a(""),m=a(""),s=a(""),n=a(""),v=a(""),y=a(""),$=async()=>{if(r.value!==m.value){c.error("Passwords do not match");return}const x=`${d.value} ${p.value}`.trim(),o={email:f.value,name:x,role:"professor",password:r.value,institution:s.value,department:v.value,academic_title:n.value,specialization:"",subjects:[y.value],verification_status:"pending"};try{const{data:t,error:_}=await S("https://genertia-quizmakerbackend.onrender.com/auth/register/professor",{method:"POST",body:o,headers:{"Content-Type":"application/json"}},"$N2IYcpalmQ");_.value?(c.error("Registration failed"),console.error("API error:",_.value)):(c.success("Registration successful. Please verify your email"),l.push("/authentication/professor-auth"))}catch(t){c.error("An error occurred during registration"),console.error(t)}};return(x,o)=>(g(),b("div",H,[e("div",Q,[e("form",{onSubmit:V($,["prevent"])},[o[9]||(o[9]=e("img",{src:O,alt:"Professor Registration"},null,-1)),o[10]||(o[10]=e("h1",null,"Professor Registration",-1)),e("div",Y,[i(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t),placeholder:"First Name",required:""},null,512),[[u,d.value]]),i(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=t=>p.value=t),placeholder:"Last Name",required:""},null,512),[[u,p.value]])]),i(e("input",{type:"email","onUpdate:modelValue":o[2]||(o[2]=t=>f.value=t),placeholder:"Email Address",required:""},null,512),[[u,f.value]]),i(e("input",{type:"password","onUpdate:modelValue":o[3]||(o[3]=t=>r.value=t),placeholder:"Password",required:""},null,512),[[u,r.value]]),i(e("input",{type:"password","onUpdate:modelValue":o[4]||(o[4]=t=>m.value=t),placeholder:"Confirm Password",required:""},null,512),[[u,m.value]]),i(e("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=t=>s.value=t),placeholder:"Institution",required:""},null,512),[[u,s.value]]),i(e("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=t=>n.value=t),placeholder:"Academic Title",required:""},null,512),[[u,n.value]]),i(e("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=t=>v.value=t),placeholder:"Department",required:""},null,512),[[u,v.value]]),i(e("input",{type:"text","onUpdate:modelValue":o[8]||(o[8]=t=>y.value=t),placeholder:"Subject",required:""},null,512),[[u,y.value]]),o[11]||(o[11]=e("input",{type:"submit",value:"Register"},null,-1))],32)])]))}}),J=k(G,[["__scopeId","data-v-c03fadad"]]),K={class:"auth-container"},W={class:"tabs"},X={__name:"professor-auth",setup(P){const l=a("ProfessorLogin"),d={ProfessorLogin:F,ProfessorRegister:J},p=j(()=>d[l.value]);return(f,r)=>(g(),b("div",K,[e("div",W,[e("button",{onClick:r[0]||(r[0]=m=>l.value="ProfessorLogin"),class:C({active:l.value==="ProfessorLogin"})},r[2]||(r[2]=[e("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.121 17.804A9.824 9.824 0 0112 14c2.45 0 4.707.91 6.379 2.404M15 11a3 3 0 11-6 0 3 3 0 016 0zM19.07 5.93a10 10 0 11-14.14 0 10 10 0 0114.14 0z"})],-1),w(" Login ")]),2),e("button",{onClick:r[1]||(r[1]=m=>l.value="ProfessorRegister"),class:C({active:l.value==="ProfessorRegister"})},r[3]||(r[3]=[e("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4v16m8-8H4"})],-1),w(" Register ")]),2)]),(g(),M(z(p.value)))]))}},se=k(X,[["__scopeId","data-v-3b1f0572"]]);export{se as default};
